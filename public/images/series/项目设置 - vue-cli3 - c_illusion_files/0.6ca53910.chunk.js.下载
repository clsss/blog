(window.webpackJsonp=window.webpackJsonp||[]).push([[0,102,103],{1518:function(e,t,r){e.exports={"project-card":"project-card-vx6",projectCard:"project-card-vx6",icon:"icon-2Eu","left-top":"left-top-2Fm",leftTop:"left-top-2Fm","demo-icon":"demo-icon-2_n",demoIcon:"demo-icon-2_n","icon-wrapper":"icon-wrapper-3Hk",iconWrapper:"icon-wrapper-3Hk","group-small-icon":"group-small-icon-A6L",groupSmallIcon:"group-small-icon-A6L","text-wrapper":"text-wrapper-336",textWrapper:"text-wrapper-336",description:"description-3CG","shared-icon":"shared-icon-1G_",sharedIcon:"shared-icon-1G_",name:"name-30T",wrapper:"wrapper-1nh","project-icon-normal":"project-icon-normal-xl0",projectIconNormal:"project-icon-normal-xl0","project-icon-small":"project-icon-small-gPh",projectIconSmall:"project-icon-small-gPh","project-list":"project-list-1Kv",projectList:"project-list-1Kv","inline-item":"inline-item-2Cr",inlineItem:"inline-item-2Cr",pagination:"pagination-2dH","project-open-panel":"project-open-panel-8UA",projectOpenPanel:"project-open-panel-8UA",left:"left-BKN",right:"right-Nuw","project-group-name":"project-group-name-2NE",projectGroupName:"project-group-name-2NE","revert-anchor":"revert-anchor-21B",revertAnchor:"revert-anchor-21B","project-empty":"project-empty-QJu",projectEmpty:"project-empty-QJu",button:"button-3wX",img:"img-1Vr",explanation:"explanation-2m-"}},1536:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(e){var t,j,O=e.renderPrivacySwitcher,_=void 0===O?function(){}:O,w=e.renderImportButton,E=void 0===w?function(){}:w;return j=t=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderPrivacySwitcher=_.bind(n),n.renderImportButton=E.bind(n),n.state={type:"icon",projects:[],filteredProjects:[],privacy:"all",keyword:"",isLoading:!0},(0,v.injectAsyncI18n)("COMPONENT_PROJECT_LAYOUT",r(1906)),n.searchEmpty=i.default.createElement("div",{className:b.default.textEmpty},i.default.createElement(v.I18n,{region:"COMPONENT_PROJECT_LAYOUT",i18n:"no_matched_project"})),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this;this.props.data&&this.props.data().then(function(t){var r=t.data.list;e.unmounted||(e.setState({projects:r}),e.setProjectState(e.props,n({},e.state,{projects:r})))}).finally(function(){return e.setState({isLoading:!1})})}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"setProjectState",value:function(e,t){var r=t||this.state,n=r.projects,o=void 0;switch(r.privacy){case"all":o=n;break;case"shared":o=n.filter(function(e){var t=e.is_public,r=e.shared;return!t&&r});break;default:o=n}var a=r.keyword.toLocaleLowerCase();a.length>0&&(o=o.filter(function(e){return e.name.toLocaleLowerCase().indexOf(a)>=0||e.description.toLocaleLowerCase().indexOf(a)>=0})),this.setState({projects:n,filteredProjects:o})}},{key:"render",value:function(){return i.default.createElement("div",{className:"layout-content"},i.default.createElement("div",{className:b.default.header},this.renderTitleLeft(),this.renderTitleRight()),this.renderBelowHeader(),i.default.createElement("div",{className:b.default.content},this.renderContent()))}},{key:"renderContent",value:function(){if(this.state.isLoading)return this.renderLoading();var e=this.renderEmpty();return i.default.createElement(m.default,{className:b.default.content,projects:this.state.filteredProjects,type:this.state.type,style:{minHeight:"690px"},onItemClick:this.props.onItemClick,createProjectRender:this.createProjectRender,showUnloadIcon:this.props.showUnloadIcon,empty:e})}},{key:"renderEmpty",value:function(){var e=this.searchEmpty;return 0===this.state.projects.length&&(e="text"===this.props.emptyType?i.default.createElement("div",{className:b.default.textEmpty},i.default.createElement(v.I18n,{region:"COMPONENT_PROJECT_LAYOUT",i18n:"no_project"})):null),e}},{key:"createProjectRender",value:function(e){var t="icon"===e,r=i.default.createElement("span",null,i.default.createElement(h.default,{className:b.default.iconPlus,size:t?14:16}),"\xa0",i.default.createElement(v.I18n,{region:"COMPONENT_PROJECT_LAYOUT",i18n:"create_project"})),n=i.default.createElement("div",{className:b.default.createIcon},i.default.createElement("div",null,i.default.createElement(d.default,{size:t?36:20})));return{staticName:r,onItemClick:function(){return u.browserHistory.push("/user/projects/create")},staticIcon:n}}},{key:"renderLoading",value:function(){return i.default.createElement("div",{className:b.default.loading},"\u6b63\u5728\u52a0\u8f7d...")}},{key:"renderTitleLeft",value:function(){return i.default.createElement("div",{className:b.default.left},this.props.titleName,i.default.createElement("span",null," (",this.state.filteredProjects.length,")"))}},{key:"renderTitleRight",value:function(){return i.default.createElement("div",{className:b.default.right},this.renderShowTypeSwitcher())}},{key:"renderShowTypeSwitcher",value:function(){var e=this,t="icon"===this.state.type,r=i.default.createElement(p.default,null,i.default.createElement(v.I18n,{region:"COMPONENT_PROJECT_LAYOUT",i18n:t?"list_view":"icon_view"}));return i.default.createElement(f.default,{placement:"top",overlay:r},t?i.default.createElement(s.default,{onClick:function(){return e.setState({type:"card"})}}):i.default.createElement(c.default,{onClick:function(){return e.setState({type:"icon"})}}))}},{key:"renderBelowHeader",value:function(){var e=this,t=(0,g.isActive)(g.Names.ImportProjects,this.props.exp);return i.default.createElement("div",{className:b.default.belowHeader},this.renderPrivacySwitcher(),i.default.createElement("div",{className:t?b.default.left:b.default.right},i.default.createElement(y.FilterInput,{placeholder:"\u7b5b\u9009\u9879\u76ee",onChange:function(t){e.setState({keyword:t}),e.setProjectState(e.props,n({},e.state,{keyword:t}))}})),this.renderImportButton())}}]),t}(l.Component),t.propTypes={titleName:a.default.string,data:a.default.func,onItemClick:a.default.func,hidePrivacySwitcher:a.default.bool,showUnloadIcon:a.default.bool,emptyType:a.default.string,exp:a.default.object},j};var a=j(r(0)),l=r(2),i=j(l),u=r(168),c=j(r(1537)),s=j(r(756)),p=j(r(700)),f=j(r(1454)),d=j(r(1468)),h=j(r(560)),m=j(r(1895)),y=r(1598),v=r(51),g=r(264),b=j(r(1629));function j(e){return e&&e.__esModule?e:{default:e}}},1591:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=c(r(0)),a=c(r(2)),l=c(r(550)),i=c(r(8)),u=r(1592);function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=function(e){var t,r,o=e.children,c=e.show,p=e.isSelected,f=e.small,d=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["children","show","isSelected","small"]),h=(0,i.default)(u.corner,(s(t={},u.selected,p),s(t,u.small,f),t)),m=(0,i.default)(u.check,(s(r={},u.selected,p),s(r,u.small,f),r));return a.default.createElement("div",n({className:u.sticky},d),o,c?a.default.createElement("div",null,a.default.createElement("div",{className:h}),a.default.createElement(l.default,{className:m})):null)};p.propTypes={children:o.default.any,show:o.default.bool,small:o.default.bool,isSelected:o.default.bool},p.defaultProps={children:null,show:!1,small:!1,isSelected:!1},t.default=p},1592:function(e,t,r){e.exports={corner:"corner-2RH",selected:"selected-1bO",small:"small-3j0",check:"check-2S8",sticky:"sticky-2Vk"}},1598:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1902);Object.defineProperty(t,"FilterInput",{enumerable:!0,get:function(){return a(n).default}});var o=r(1904);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"SearchInput",{enumerable:!0,get:function(){return a(o).default}})},1629:function(e,t,r){e.exports={header:"header-KQE",left:"left-2nn",right:"right-3g6","below-header":"below-header-y4a",belowHeader:"below-header-y4a",content:"content-3d9",loading:"loading-6OL","create-icon":"create-icon-Zjj",createIcon:"create-icon-Zjj","icon-plus":"icon-plus-2ME",iconPlus:"icon-plus-2ME","text-empty":"text-empty-1vR",textEmpty:"text-empty-1vR"}},1677:function(e,t,r){e.exports={"search-input":"search-input-2b4",searchInput:"search-input-2b4"}},1766:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=f(r(0)),i=r(2),u=f(i),c=f(r(76)),s=f(r(8)),p=f(r(1518));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=(o=n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e,t=this.props,r=t.type,n=t.className;return u.default.createElement("div",{className:(0,s.default)(n,(e={},d(e,p.default.projectCard,"card"===r),d(e,p.default.projectIconSmall,"small-icon"===r),d(e,p.default.projectIconNormal,"icon"===r),e))},this.renderClickable())}},{key:"renderClickable",value:function(){var e=this,t=this.props.onItemClick;return t?u.default.createElement("div",{onClick:function(r){return t(e,r)}},this.renderClickableInner()):u.default.createElement("div",null,this.renderClickableInner())}},{key:"renderClickableInner",value:function(){var e=this.props.project,t=(0,c.default)(e)?"":e.owner_user_name+"/"+e.name+"\n"+e.description;return u.default.createElement("div",{className:p.default.wrapper,title:t},u.default.createElement("div",null,u.default.createElement("div",{className:p.default.icon},this.renderIconImpl()),u.default.createElement("div",{className:p.default.textWrapper},this.renderNameImpl(),this.renderDescriptionImpl())))}},{key:"renderIconImpl",value:function(){return this.props.staticIcon}},{key:"renderNameImpl",value:function(){return this.props.staticName}},{key:"renderDescriptionImpl",value:function(){return this.props.staticDescription}}]),t}(),n.displayName="ProjectItemView",n.propTypes={project:l.default.object,className:l.default.string,type:l.default.string,onItemClick:l.default.func,staticIcon:l.default.element,staticName:l.default.element,staticDescription:l.default.element},n.defaultProps={type:"icon",className:""},o);t.default=h},1895:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProjectContainer=void 0;var n,o,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=v(r(0)),i=r(2),u=v(i),c=v(r(2170)),s=r(51),p=v(r(702)),f=v(r(268)),d=v(r(8)),h=v(r(544)),m=r(168),y=r(1518);function v(e){return e&&e.__esModule?e:{default:e}}var g=t.ProjectContainer=(o=n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={projects:[],openedGroupId:0},(0,s.injectAsyncI18n)("COMPONENT_PROJECT_LIST",r(3152)),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{onClick:function(t){return e.closeOpenPanel(t)},style:this.props.style},u.default.createElement(c.default,{projects:this.props.projects,type:this.props.type,groupOptions:{openGroup:function(t){return e.openGroup(t)},isGroupOpened:function(t){return e.isGroupOpened(t)},grouping:this.props.grouping,groupingIsSelected:this.props.groupingIsSelected,groupingSelect:this.props.groupingSelect,groupingUnselected:this.props.groupingUnselected,changeGroupName:this.props.changeGroupName},empty:this.props.empty?this.props.empty:this.renderEmpty(),onItemClick:this.props.onItemClick,createProjectRender:this.props.createProjectRender,showUnloadIcon:this.props.showUnloadIcon}))}},{key:"openGroup",value:function(e){return this.props.openGroup?this.props.openGroup(e):this.setState({openedGroupId:e})}},{key:"isGroupOpened",value:function(e){return this.props.isGroupOpened?this.props.isGroupOpened(e):this.state.openedGroupId===e}},{key:"closeOpenPanel",value:function(){this.openGroup(0)}},{key:"handleClickOutside",value:function(){this.closeOpenPanel()}},{key:"renderEmpty",value:function(){var e=s.I18n.get("COMPONENT_PROJECT_LIST");return u.default.createElement("div",{className:y.projectEmpty},u.default.createElement("div",null,u.default.createElement("img",{className:(0,d.default)(y.img),src:p.default.ICONS.Project})),u.default.createElement("div",{className:y.explanation},u.default.createElement("span",null,e.get("your_project_is_empty"))),u.default.createElement("div",null,u.default.createElement(m.Link,{to:"/user/projects/create"},u.default.createElement(h.default,{className:y.button,size:"large"},e.get("create_now")))))}}]),t}(),n.displayName="ProjectContainer",n.propTypes={projects:l.default.array,type:l.default.string,openGroup:l.default.func,isGroupOpened:l.default.func,grouping:l.default.bool,groupingIsSelected:l.default.func,groupingSelect:l.default.func,groupingUnselected:l.default.func,changeGroupName:l.default.func,style:l.default.object,empty:l.default.element,onItemClick:l.default.func,createProjectRender:l.default.func,showUnloadIcon:l.default.bool},n.defaultProps={projects:[],type:"icon",openedGroupId:0,grouping:!1,empty:null,showUnloadIcon:!1},o),b=(0,f.default)(g);t.default=b},1896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(2)),o=i(r(1535)),a=i(r(1897)),l=i(r(1518));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(){var e=this.props.project,t=e.is_public,r=e.shared;return!t&&r?n.default.createElement(o.default,{className:l.default.sharedIcon}):null},function(){return null})},1897:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=h(r(0)),a=h(r(2)),l=r(168),i=h(r(76)),u=h(r(1511)),c=h(r(262)),s=h(r(1591)),p=h(r(1898)),f=h(r(1766)),d=h(r(1518));function h(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null},h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};return t=e=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o.renderNameShareIcon=r.bind(o),o.renderIconWithBadge=h.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default),n(t,[{key:"renderClickable",value:function(){var e=this,t=this.props.onItemClick,r=this.props.project;return t?a.default.createElement("div",{onClick:function(r){return t(e,r)}},this.renderClickableInnerWithUnlock()):a.default.createElement(l.Link,{className:d.default.revertAnchor,to:this.props.groupOptions.grouping?null:r.project_path},this.renderClickableInnerWithUnlock())}},{key:"renderClickableInnerWithUnlock",value:function(){var e=this.renderClickableInner();return this.props.showUnloadIcon?a.default.createElement(p.default,null,e):e}},{key:"renderIconImpl",value:function(){var e=this.props.project;return this.renderIcon(e)}},{key:"renderNameImpl",value:function(){var e=this.props.project;return a.default.createElement("div",{className:d.default.name},this.renderNameShareIcon(e),e.name)}},{key:"renderIcon",value:function(e){if(this.props.groupOptions.grouping)return this.renderWithGroupSelect(e);var t=this.renderIconWithBadge(e);return t||(e.un_read_activities_count>0?this.renderWithActivities(e):this.renderIconOnly(e))}},{key:"renderWithGroupSelect",value:function(e){var t=this.props.groupOptions,r=t.groupingIsSelected,n=t.groupingUnselected,o=t.groupingSelect,l=r&&r(e.id),i=l?n:o;return a.default.createElement(s.default,{show:!0,isSelected:l,onClick:function(t){t.preventDefault(),t.stopPropagation(),i(e.id)},small:"small-icon"===this.props.type},a.default.createElement("div",null,this.renderIconOnly(e)))}},{key:"renderWithActivities",value:function(e){return a.default.createElement(u.default,{num:e.un_read_activities_count},this.renderIconOnly(e))}},{key:"renderIconOnly",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.icon=e.icon||"";var t=e.icon.startsWith("/static")?"https://coding.net"+e.icon:e.icon,r=(0,i.default)(e)?"":e.owner_user_name+"/"+e.name+"\n"+e.description;return a.default.createElement(c.default,{shape:"square",size:"large",src:t,className:d.default.icon,title:r,resize:!1})}},{key:"renderDescriptionImpl",value:function(){var e=this.props.project;return a.default.createElement("div",{className:d.default.description},e.description)}}]),t}(),e.displayName="ProjectItem",e.propTypes={project:o.default.object,type:o.default.string,groupOptions:o.default.object,onItemClick:o.default.func,showUnloadIcon:o.default.bool},e.defaultProps={project:{},type:"icon",groupOptions:{}},t}},1898:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=u(r(0)),a=u(r(2)),l=u(r(1502)),i=r(1899);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.children,r=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["children"]);return a.default.createElement("div",n({className:i.sticky},r),t,a.default.createElement(l.default,{className:i.icon}))};c.propTypes={children:o.default.any},c.defaultProps={children:null},t.default=c},1899:function(e,t,r){e.exports={sticky:"sticky-2vw",icon:"icon-3eL"}},1902:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=g(r(0)),u=r(2),c=g(u),s=g(r(8)),p=g(r(1545)),f=g(r(1490)),d=g(r(554)),h=g(r(261)),m=g(r(547)),y=g(r(1538)),v=r(1677);function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var j=(o=n=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return r=n=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={value:n.props.value},n.debounceChange=(0,d.default)(function(e){n.props.onChange(e)},n.props.timeout),n.clearChange=function(){n.setState({value:""}),n.props.onChange("")},n.handleChange=function(e,t){var r=t.trim();n.setState({value:r}),n.debounceChange(r)},b(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),l(t,[{key:"renderIcon",value:function(e){return 0===(0,p.default)(e)?c.default.createElement(y.default,null):c.default.createElement(m.default,{onClick:this.clearChange})}},{key:"render",value:function(){var e=this.state.value,t=(0,f.default)(this.props,"timeout");return c.default.createElement(h.default,a({},t,{className:(0,s.default)(v.searchInput,this.props.className),value:e,icon:this.renderIcon(e),onChange:this.handleChange}))}}]),t}(),n.propTypes={value:i.default.string,placeholder:i.default.string,className:i.default.any,onChange:i.default.func.isRequired,timeout:i.default.number},n.defaultProps={value:"",placeholder:"\u7b5b\u9009...",timeout:300},o);t.default=j},1904:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=y(r(0)),u=r(2),c=y(u),s=y(r(8)),p=y(r(1545)),f=y(r(1490)),d=y(r(261)),h=y(r(1474)),m=r(1677);function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var g=(o=n=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return r=n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={value:n.props.value},n.handleSearch=function(){n.props.onSearch(n.state.value)},n.handleChange=function(e,t){var r=t.trim();n.props.onChange(r),n.setState({value:r},function(){0===(0,p.default)(r)&&n.handleSearch()})},v(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.state.value&&this.setState({value:t})}},{key:"render",value:function(){var e=this,t=(0,f.default)(this.props,"onSearch","className");return c.default.createElement(d.default,a({},t,{className:(0,s.default)(m.searchInput,this.props.className),value:this.state.value,onChange:this.handleChange,icon:c.default.createElement(h.default,{onClick:this.handleSearch}),onPressEnter:this.handleSearch,ref:function(t){t&&(e.input=t.input)}}))}}]),t}(),n.propTypes={value:i.default.string,placeholder:i.default.string,className:i.default.any,onChange:i.default.func,onSearch:i.default.func.isRequired},n.defaultProps={value:"",placeholder:"\u641c\u7d22...",onChange:function(){}},o);t.default=g},1906:function(e,t){e.exports={"zh-CN":{all:"\u6240\u6709",shared:"\u5df2\u516c\u5f00\u6e90\u7801",search:"\u641c\u7d22",list_view:"\u5217\u8868\u89c6\u56fe",icon_view:"\u56fe\u6807\u89c6\u56fe",create_project:"\u65b0\u5efa\u9879\u76ee",no_matched_project:"\u6ca1\u6709\u627e\u5230\u5339\u914d\u7684\u9879\u76ee",no_project:"\u9879\u76ee\u5217\u8868\u4e3a\u7a7a"},"en-US":{all:"all",shared:"shared",search:"search",list_view:"List view",icon_view:"Icon view",create_project:"create project",no_matched_project:"no matched project",no_project:"no project"}}},2170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=y(r(0)),u=r(2),c=y(u),s=y(r(1896)),p=y(r(3150)),f=y(r(1453)),d=y(r(1455)),h=r(1518),m=y(r(1766));function y(e){return e&&e.__esModule?e:{default:e}}var v=c.default.createElement("div",null),g=(o=n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.projects.length;return r.state={openedGroup:0,page:1,pageSize:15,totalRow:n,totalPage:Math.ceil(n/15)},r.renderItemBinded=r.renderItem.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.Component),l(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.projects;if("card"===e.type){var r=this.state,n=r.page,o=r.pageSize,a=t.length,l=Math.ceil(a/o);this.setState({totalRow:a,totalPage:l}),n>l&&this.setState({page:1})}}},{key:"render",value:function(){var e=this,t=this.props.empty,r=this.pagedProjects();if(0===r.length)return t;var n=null;this.props.createProjectRender&&(n=c.default.createElement("div",{className:h.inlineItem},c.default.createElement(m.default,a({type:this.props.type},this.props.createProjectRender(this.props.type)))));var o=null;if("card"===this.props.type){var l=this.state,i={page:l.page,pageSize:l.pageSize,totalRow:l.totalRow,totalPage:l.totalPage};o=c.default.createElement("div",{className:h.pagination},c.default.createElement(d.default,{pager:i,onChange:function(t){return e.changePage(t)}}))}return c.default.createElement("div",null,c.default.createElement(f.default,{className:h.projectList,empty:t},r.map(this.renderItemBinded),n),o)}},{key:"renderItem",value:function(e){return Array.isArray(e)?this.renderGroupedProject(e):this.renderProject(e)}},{key:"renderProject",value:function(e){return c.default.createElement("div",{className:h.inlineItem,key:"p"+e.id},c.default.createElement(s.default,{project:e,type:this.props.type,groupOptions:this.props.groupOptions,onItemClick:this.props.onItemClick,showUnloadIcon:this.props.showUnloadIcon}))}},{key:"renderGroupedProject",value:function(e){return c.default.createElement("div",{className:h.inlineItem,key:"g"+e[0].groupId},c.default.createElement(p.default,{projects:e,type:this.props.type,groupOptions:this.props.groupOptions,onItemClick:this.props.onItemClick}))}},{key:"changePage",value:function(e){this.setState({page:e})}},{key:"pagedProjects",value:function(){var e=this.props,t=e.projects;if("card"!==e.type)return t;var r=this.state,n=r.page,o=r.pageSize;return t.slice(n*o-o,n*o)}}]),t}(),n.displayName="ProjectList",n.propTypes={projects:i.default.array,type:i.default.string,groupOptions:i.default.object,empty:i.default.element,onItemClick:i.default.func,createProjectRender:i.default.func,showUnloadIcon:i.default.bool},n.defaultProps={projects:[],type:"icon",groupOptions:{},empty:v},o);t.default=g},3150:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=h(r(0)),i=r(2),u=h(i),c=h(r(1511)),s=h(r(1453)),p=h(r(3151)),f=h(r(8)),d=r(1518);function h(e){return e&&e.__esModule?e:{default:e}}var m=(o=n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={groupName:"group",badge:0},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentWillMount",value:function(){this.componentWillReceiveProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=e.projects;if(t[0]){var r=t[0].groupName,n=e.grouping?0:t.reduce(function(e,t){return e+t.un_read_activities_count},0);this.setState({groupName:r,badge:n})}}},{key:"render",value:function(){var e=this,t=this.props.projects;return u.default.createElement("div",{className:(0,f.default)(d.groupIcon,d.projectIconNormal)},u.default.createElement("div",{onClick:function(t){return e.openGroup(t)}},u.default.createElement("div",{className:d.wrapper},u.default.createElement(c.default,{num:this.props.groupOptions.grouping?0:this.state.badge},u.default.createElement(s.default,{className:d.iconWrapper,empty:u.default.createElement("div",null)},t.slice(0,4).map(this.renderIcon))),u.default.createElement("div",{className:d.textWrapper},u.default.createElement("span",{className:d.name},this.state.groupName)))),u.default.createElement(p.default,{projects:t,groupOptions:this.props.groupOptions}))}},{key:"renderIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.icon=e.icon||"",u.default.createElement("img",{key:e.id,src:e.icon.startsWith("/static")?"https://coding.net"+e.icon:e.icon,className:d.groupSmallIcon})}},{key:"openGroup",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.props.groupOptions.openGroup;return t&&t(this.props.projects[0].groupId)}}]),t}(),n.displayName="ProjectGroup",n.propTypes={projects:l.default.array,groupOptions:l.default.object},n.defaultProps={projects:[]},o);t.default=m},3151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=d(r(0)),i=r(2),u=d(i),c=d(r(2170)),s=d(r(261)),p=r(1518),f=d(r(8));function d(e){return e&&e.__esModule?e:{default:e}}var h=(o=n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=r.props.projects[0],o=n&&n.groupName||"group";return r.state={groupName:o,groupNameInput:o,overflow:!1},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.projects[0],r=t&&t.groupName||"group";r!==this.state.groupNameInput&&this.setState({groupName:r,groupNameInput:r})}},{key:"render",value:function(){var e=this,t=this.props.projects;if(!this.isOpen(t[0]))return null;var r=this.state.overflow,n=(0,f.default)(p.projectOpenPanel,r?p.right:p.left);return u.default.createElement("div",{className:n,ref:function(t){return e.checkOverflow(t)}},u.default.createElement("div",{className:p.projectGroupName,onClick:function(e){return e.stopPropagation()}},u.default.createElement(s.default,{block:!0,borderless:!0,value:this.state.groupNameInput,onChange:function(t,r){return e.setState({groupNameInput:r})},onPressEnter:function(r,n){return e.renameGroup(t[0],n,r)}})),u.default.createElement(c.default,{projects:this.props.projects,type:"small-icon",groupOptions:this.props.groupOptions}))}},{key:"checkOverflow",value:function(e){if(e&&!this.state.overflow){var t=e.getBoundingClientRect().right>document.body.clientWidth;t&&this.setState({overflow:t})}}},{key:"isOpen",value:function(e){if(e&&e.groupId){var t=this.props.groupOptions.isGroupOpened;if(t&&t(e.groupId))return!0}return!1}},{key:"renameGroup",value:function(e,t,r){var n=this.props.groupOptions.changeGroupName;if(n){var o=r.target;n(e.groupId,t).then(function(){return o.blur()})}}}]),t}(),n.displayName="ProjectGroup",n.propTypes={projects:l.default.array,groupOptions:l.default.object},n.defaultProps={projects:[],groupOptions:{}},o);t.default=h},3152:function(e,t){e.exports={"zh-CN":{your_project_is_empty:"\u5f53\u524d\u9879\u76ee\u5217\u8868\u4e3a\u7a7a",create_now:"\u9a6c\u4e0a\u521b\u5efa\u9879\u76ee"},"en-US":{your_project_is_empty:"There's no projects",create_now:"Create Now"}}}}]);