(window.webpackJsonp=window.webpackJsonp||[]).push([[24,33,34,98],{1480:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=c(r(2)),u=r(51),a=c(r(1466)),i=c(r(1536));function c(e){return e&&e.__esModule?e:{default:e}}var l=a.default.RadioGroup;t.default=(0,i.default)({renderPrivacySwitcher:function(){var e=this;return this.props.hidePrivacySwitcher?null:o.default.createElement(l,{name:"privacy",defaultValue:"all",onChange:function(t){e.setState({privacy:t.target.value}),e.setProjectState(e.props,n({},e.state,{privacy:t.target.value}))}},o.default.createElement(a.default,{key:"all",value:"all"},o.default.createElement(u.I18n,{region:"COMPONENT_PROJECT_LAYOUT",i18n:"all"})),o.default.createElement(a.default,{key:"shared",value:"shared"},o.default.createElement(u.I18n,{region:"COMPONENT_PROJECT_LAYOUT",i18n:"shared"})))},renderImportButton:function(){return null}})},1628:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concludeToGroupProject=function(e){var t=[],r=[],n=[];return e.forEach(function(e){if(0===e.groupId)return r.push(e);var o=t.find(function(t){return Array.isArray(t)&&t[0].groupId===e.groupId});return o?o.push(e):(n.push(e),t.push([e]))}),{groupedProjects:t=t.concat(r),groups:n}}},1678:function(e,t,r){e.exports={dropdown:"dropdown-2X3"}},1765:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=j(r(0)),i=j(r(2)),c=r(51),l=j(r(1895)),s=j(r(2171)),p=j(r(544)),f=r(78),d=r(1628),g=r(112),h=j(r(700)),m=j(r(1454)),v=r(264),y=j(r(1480)),_=j(r(1629)),P=j(r(1678));function j(e){return e&&e.__esModule?e:{default:e}}function E(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}var b=(o=n=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={type:"icon",titleName:"All Projects",projects:[],filteredProjects:[],groupedProjects:[],groups:[],grouping:!1,groupingSelected:[],privacy:"all",keyword:""},r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,y.default),u(t,[{key:"componentDidMount",value:function(){this.setProjectState(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setProjectState(e)}},{key:"setProjectState",value:function(e,t){var r=e.store&&e.store.projects&&e.store.projects.list||[],n=void 0,o=t||this.state;switch(o.privacy){case"all":n=r;break;case"shared":n=r.filter(function(e){var t=e.is_public,r=e.shared;return!t&&r});break;default:n=r}var u=o.keyword.toLocaleLowerCase();u.length>0&&(n=n.filter(function(e){return e.name.toLocaleLowerCase().indexOf(u)>=0||e.description.toLocaleLowerCase().indexOf(u)>=0}));var a=(0,d.concludeToGroupProject)(n),i=a.groupedProjects,c=a.groups;this.setState({projects:r,filteredProjects:n,groupedProjects:i,groups:c})}},{key:"renderContent",value:function(){var e=this;if(this.props.loading)return this.renderLoading();var t=this.renderEmpty();return i.default.createElement(l.default,{className:_.default.content,projects:"icon"===this.state.type?this.state.groupedProjects:this.state.filteredProjects,type:this.state.type,style:{minHeight:"690px"},grouping:this.state.grouping,groupingIsSelected:function(t){return e.groupingIsSelected(t)},groupingSelect:function(t){return e.groupingSelect(t)},groupingUnselected:function(t){return e.groupingUnselected(t)},changeGroupName:this.props.changeGroupName,createProjectRender:this.createProjectRender,empty:t})}},{key:"renderTitleLeft",value:function(){var e=null,t=this.state,r=t.grouping,n=t.groupingSelected;return r&&(e=i.default.createElement("span",null," ","(",i.default.createElement(c.I18n,{region:"ALL_PROJECT",i18n:"grouping_selected_before"}),i.default.createElement("span",null," ",n.length," "),i.default.createElement(c.I18n,{region:"ALL_PROJECT",i18n:"grouping_selected_after"}),")")),i.default.createElement("div",{className:_.default.left},i.default.createElement(c.I18n,{region:"ALL_PROJECT",i18n:this.state.titleName}),i.default.createElement("span",null," (",this.state.filteredProjects.length,")"),e)}},{key:"renderTitleRight",value:function(){return this.state.grouping?this.renderTitleRightGrouping():this.renderTitleRightNormal()}},{key:"renderTitleRightGrouping",value:function(){var e=this,t=[{id:"out",name:c.I18n.get("ALL_PROJECT","out_of_group")}].concat(E(this.state.groups.map(function(e){return{id:e.groupId,name:e.groupName}})),[{id:"new",name:"\u2795 "+c.I18n.get("ALL_PROJECT","new_group")}]),r=(0,f.hocDropdown)(function(){return i.default.createElement(p.default,{size:"small"},i.default.createElement(c.I18n,{region:"ALL_PROJECT",i18n:"move_to"}))},function(e){var t=e.item;return i.default.createElement("span",null,t.name)});return i.default.createElement("div",{className:_.default.right},i.default.createElement(r,{className:P.default.dropdown,onSelect:function(t){var r=e.state,n=r.groupingSelected,o=r.filteredProjects;if(0!==n.length)if("out"!==t.id)if("new"!==t.id)e.props.moveToGroup(t.id,n).then(function(){return e.clearGroupingSelected()});else{for(var u=c.I18n.get("ALL_PROJECT","new_group_prefix"),a=1,i=function(t){return e.state.groups.some(function(e){return e.groupName===t})};i(u+" "+a);)a++;var l=u+" "+a;e.props.createGroup(l,n).then(function(){return e.clearGroupingSelected()})}else{var s=o.filter(function(e){var t=e.id,r=e.groupId;return n.indexOf(t)>=0&&0!==r});if(0===s.length)return void e.clearGroupingSelected();var p=s.map(function(e){return e.id}),f=s[0].groupId;e.props.removeFromGroup(f,p).then(function(){return e.clearGroupingSelected()})}else(0,g.danger)(c.I18n.get("ALL_PROJECT","select_projects_first"))},items:t}),i.default.createElement(p.default,{size:"small",empty:"true",onClick:function(){return e.setState({grouping:!1,groupingSelected:[]})}},i.default.createElement(c.I18n,{region:"ALL_PROJECT",i18n:"back"})))}},{key:"renderTitleRightNormal",value:function(){var e=this,t=i.default.createElement(h.default,null,i.default.createElement(c.I18n,{region:"ALL_PROJECT",i18n:"group_projects"}));return i.default.createElement("div",{className:_.default.right},i.default.createElement(m.default,{placement:"top",overlay:t},i.default.createElement(s.default,{onClick:function(){return e.setState({grouping:!0,type:"icon"})}})),this.renderShowTypeSwitcher())}},{key:"groupingIsSelected",value:function(e){return this.state.groupingSelected.some(function(t){return t===e})}},{key:"groupingSelect",value:function(e){this.setState(function(t){return{groupingSelected:[].concat(E(t.groupingSelected),[e])}})}},{key:"groupingUnselected",value:function(e){this.setState(function(t){return{groupingSelected:t.groupingSelected.filter(function(t){return t!==e})}})}},{key:"clearGroupingSelected",value:function(){this.setState({groupingSelected:[]})}}]),t}(),n.propTypes={store:a.default.object,loading:a.default.bool,removeFromGroup:a.default.func,moveToGroup:a.default.func,changeGroupName:a.default.func,createGroup:a.default.func,exp:a.default.object},o);t.default=(0,v.withExp)(b)},1894:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o,u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=d(r(0)),i=r(2),c=d(i),l=r(113),s=d(r(1765)),p=r(719),f=r(1529);function d(e){return e&&e.__esModule?e:{default:e}}var g=(o=n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),u(t,[{key:"componentDidMount",value:function(){this.props.fetchProjects()}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(s.default,{store:this.props.store,removeFromGroup:this.props.removeFromGroup,moveToGroup:this.props.moveToGroup,changeGroupName:this.props.changeGroupName,createGroup:this.props.createGroup,loading:this.props.store.loading}))}}]),t}(),n.propTypes={store:a.default.object,fetchProjects:a.default.func,removeFromGroup:a.default.func,moveToGroup:a.default.func,changeGroupName:a.default.func,createGroup:a.default.func},o);t.default=(0,l.connect)(function(e){return{store:e[p.REGION]}},function(e){return{fetchProjects:function(){return e((0,f.fetchProjects)())},removeFromGroup:function(t,r){return e((0,f.removeFromGroup)(t,r))},moveToGroup:function(t,r){return e((0,f.moveToGroup)(t,r))},changeGroupName:function(t,r){return e((0,f.changeGroupName)(t,r))},createGroup:function(t,r){return e((0,f.createGroup)(t,r))}}})(g)}}]);