(window.webpackJsonp=window.webpackJsonp||[]).push([[146],{1703:function(e,t,n){e.exports={container:"container-3sj",title:"title-2Jb",basic:"basic-DRT","basic-form":"basic-form-2r9",basicForm:"basic-form-2r9","name-input":"name-input-2fE",nameInput:"name-input-2fE","name-tip":"name-tip-yLw",nameTip:"name-tip-yLw","transfer-member":"transfer-member-34f",transferMember:"transfer-member-34f","transfer-dropdown":"transfer-dropdown---s",transferDropdown:"transfer-dropdown---s","date-picker-wrapper":"date-picker-wrapper-hJB",datePickerWrapper:"date-picker-wrapper-hJB"}},3797:function(e,t){e.exports={"zh-CN":{"basic.setting":"\u57fa\u672c\u8bbe\u7f6e","project.name":"\u9879\u76ee\u540d","project.description":"\u9879\u76ee\u63cf\u8ff0","project.deadline":"\u9879\u76ee\u65f6\u95f4","project.date.start":"\u5f00\u59cb\u65f6\u95f4","project.date.end":"\u5b8c\u6210\u65f6\u95f4",update:"\u66f4\u65b0","update.name.tip":"\u6ce8\u610f\uff1a\u4fee\u6539\u9879\u76ee\u540d\u5c06\u5bfc\u81f4\u9879\u76ee\u7684\u8bbf\u95ee URL\uff08\u5305\u542b Git \u4ed3\u5e93\u7684 URL\uff09\u6539\u53d8\uff0c\u5728\u6b64\u4e4b\u524d\u7684 URL \u5730\u5740\u5c06\u5931\u6548\u3002Git \u4ed3\u5e93\u5730\u5740\u4fee\u6539\u65b9\u6cd5\uff1agit remote set-url origin [NEW_URL]",transfer:"\u9879\u76ee\u8f6c\u8ba9","transfer.tip":" \u9879\u76ee\u8f6c\u8ba9\u540e\uff0c\u4f60\u5c06\u4e0d\u518d\u662f\u201c\u9879\u76ee\u6240\u6709\u8005\u201d\uff0c\u4f60\u5c06\u5931\u53bb\u67d0\u4e9b\u7ba1\u7406\u6743\u9650\uff08\u5982\u6dfb\u52a0\u6210\u5458\u3001\u5220\u9664\u9879\u76ee\u7b49\uff09\u3002\u540c\u65f6\uff0c\u9879\u76ee\u8f6c\u8ba9\u540e\uff0c\u9879\u76ee\u7684 Git \u4ed3\u5e93\u5730\u5740\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u4f8b\u5982\uff1a\u7528\u6237 Coding \u5c06\u9879\u76ee\u8f6c\u7ed9\u7528\u6237 Demo \u540e\uff0c Git \u4ed3\u5e93\u8bbf\u95ee\u8def\u5f84\u5c06\u7531 https://git.coding.net/coding/test.git \u53d8\u6210 https://git.coding.net/demo/test.git","transfer.qcloud.tip":" \u9879\u76ee\u8f6c\u8ba9\u540e\uff0c\u4f60\u5c06\u4e0d\u518d\u662f\u201c\u9879\u76ee\u6240\u6709\u8005\u201d\uff0c\u4f60\u5c06\u5931\u53bb\u67d0\u4e9b\u7ba1\u7406\u6743\u9650\uff08\u5982\u6dfb\u52a0\u6210\u5458\u3001\u5220\u9664\u9879\u76ee\u7b49\uff09\u3002\u540c\u65f6\uff0c\u9879\u76ee\u8f6c\u8ba9\u540e\uff0c\u9879\u76ee\u7684 Git \u4ed3\u5e93\u5730\u5740\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u4f8b\u5982\uff1a\u7528\u6237 Dev \u5c06\u9879\u76ee\u8f6c\u7ed9\u7528\u6237 Demo \u540e\uff0c Git \u4ed3\u5e93\u8bbf\u95ee\u8def\u5f84\u5c06\u7531 https://dev.tencent.com/dev/test.git \u53d8\u6210 https://dev.tencent.com/demo/test.git","transfer.to.member":"\u8f6c\u8ba9\u7ed9\u6210\u5458\uff1a","please.choose":"\u8bf7\u9009\u62e9",archive:"\u9879\u76ee\u5f52\u6863","archive.tip":"\u9879\u76ee\u5f52\u6863\u540e\uff0c\u8be5\u9879\u76ee\u5c06\u4f1a\u79fb\u5230\u201c\u9879\u76ee\u6240\u6709\u8005\u201d\u7684\u5f52\u6863\u9879\u76ee\u4e2d\uff0c\u5e76\u4e14\u4e0d\u80fd\u5bf9\u8be5\u9879\u76ee\u505a\u4efb\u4f55\u64cd\u4f5c\uff0c\u76f4\u5230\u89e3\u9664\u5f52\u6863\u3002\u540c\u65f6\u8be5\u9879\u76ee\u5c06\u4ece\u6240\u6709\u9879\u76ee\u6210\u5458\u7684\u9879\u76ee\u5217\u8868\u4e2d\u79fb\u9664\u3002\u201c\u9879\u76ee\u6240\u6709\u8005\u201d\u53ef\u4ee5\u5728\u9879\u76ee->\u5f52\u6863\u9879\u76ee\u4e2d\u8fdb\u884c\u89e3\u9664\u5f52\u6863\u64cd\u4f5c\uff0c\u89e3\u9664\u5f52\u6863\u540e\uff0c\u9879\u76ee\u6210\u5458\u4ecd\u4fdd\u7559\u3002",dismiss:"\u5220\u9664\u9879\u76ee","dismiss.tip":"\u5220\u9664\u9879\u76ee\u5c06\u4f1a\u8fde\u540c\u5176\u76f8\u5173\u7684\u6240\u6709\u6570\u636e\uff08\u5305\u62ec\u4efb\u52a1\u3001\u5408\u5e76\u8bf7\u6c42\u3001\u52a8\u6001\u7b49\uff09\u4e00\u8d77\u5220\u9664\uff0c\u6b64\u64cd\u4f5c\u65e0\u6cd5\u6062\u590d\uff01",quit:"\u9000\u51fa\u9879\u76ee","quit.tip":"\u9000\u51fa\u9879\u76ee\u540e\uff0c\u4f60\u5c06\u4e0d\u80fd\u67e5\u770b\u4efb\u4f55\u5173\u4e8e\u8be5\u9879\u76ee\u7684\u4fe1\u606f\u3002\u5982\u679c\u60f3\u91cd\u65b0\u52a0\u5165\uff0c\u8bf7\u8054\u7cfb\u9879\u76ee\u7ba1\u7406\u5458\u3002","update.success":"\u9879\u76ee\u4fe1\u606f\u66f4\u65b0\u6210\u529f","transfer.success":"\u9879\u76ee\u8f6c\u8ba9\u6210\u529f","archive.success":"\u9879\u76ee\u5f52\u6863\u6210\u529f","dismiss.success":"\u9879\u76ee\u5220\u9664\u6210\u529f","quit.success":"\u9879\u76ee\u9000\u51fa\u6210\u529f","confirm.to.quit":"\u786e\u5b9a\u9000\u51fa\u9879\u76ee\uff1f","update.project.icon.success":"\u66f4\u65b0\u9879\u76ee\u5934\u50cf\u6210\u529f","transfer.member.empty":"\u60a8\u7684\u9879\u76ee\u8fd8\u6ca1\u6dfb\u52a0\u6210\u5458"},"en-US":{"basic.setting":"Basic Setting","project.name":"Project Name","project.description":"Project Description","project.deadline":"Project Deadline","project.date.start":"Start Date","project.date.end":"End Date",update:"Update","update.name.tip":"Notice\uff1aChanging the project name will lead to the change of accessing url (including the Git repo url). You can change the Git repo url by: git remote set-url origin [NEW_URL]",transfer:"Transfer Project","transfer.tip":'After project transferred, you will not be the "Project Owner" anymore. You will lose some of the management authority (such as Add Member, Delete Project etc). Meanwhile the Git repo url will also change. For example, after user Coding transferred the project to user Demo, the Git repo url will be changed from https://git.coding.net/coding/test.git to https://git.coding.net/demo/test.git',"transfer.to.member":"Transfer to member: ","please.choose":"Please choose",archive:"Archive Project","archive.tip":"After project archived, the project will goes into the project owner's archived project list. Any operation to the project will not be available until unarchived. Meanwhile the project will dismiss from all members' project list. Project owner can unarchive the project in Project -> Archived Project. After unarchived, all members will be restored.",dismiss:"Dismiss Project","dismiss.tip":"Dismiss project will also delete all project data (including tasks, merge request, activity etc). This operation is not recoverable!",quit:"Quit Project","quit.tip":"After quiting the project, you can't access to any of the project resource. Please contact the manager if you want to rejoin.","update.success":"Update project information success","transfer.success":"Transfer project success","archive.success":"Archive project success","dismiss.success":"Dismiss project success","quit.success":"Quit project success","confirm.to.quit":"Confirm to quit this project?","update.project.icon.success":"Update project icon success","transfer.member.empty":"No members"}}},3798:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=j(s),u=n(113),l=n(114),p=j(n(76)),f=j(n(3799)),d=j(n(3806)),m=j(n(3807)),h=j(n(3808)),b=j(n(3809)),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(3810)),y=n(106);function j(e){return e&&e.__esModule?e:{default:e}}var g=(o=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"isManager",value:function(){return!(0,p.default)(this.props.currentProject)&&this.props.currentProject.current_user_role_id===y.ROLE.MANAGER}},{key:"isOwner",value:function(){return!(0,p.default)(this.props.currentProject)&&this.props.currentProject.current_user_role_id===y.ROLE.OWNER}},{key:"renderMemberView",value:function(){return c.default.createElement(b.default,{currentProject:this.props.currentProject,onQuit:this.props.onQuit,push:this.props.router.push})}},{key:"renderManagerView",value:function(){return c.default.createElement("div",null,c.default.createElement(f.default,{currentProject:this.props.currentProject,onUpdateProjectIcon:this.props.onUpdateProjectIcon,onUpdate:this.props.onUpdate}),c.default.createElement(b.default,{currentProject:this.props.currentProject,onQuit:this.props.onQuit,push:this.props.router.push}))}},{key:"renderOwnerView",value:function(){return c.default.createElement("div",null,c.default.createElement(f.default,{currentProject:this.props.currentProject,onUpdateProjectIcon:this.props.onUpdateProjectIcon,onUpdate:this.props.onUpdate}),c.default.createElement(d.default,{user:this.props.user,currentProject:this.props.currentProject,members:this.props.members,onTransfer:this.props.onTransfer,push:this.props.router.push}),c.default.createElement(m.default,{currentProject:this.props.currentProject,onArchive:this.props.onArchive,push:this.props.router.push}),c.default.createElement(h.default,{currentProject:this.props.currentProject,onDismiss:this.props.onDismiss,push:this.props.router.push}))}},{key:"render",value:function(){return c.default.createElement("div",null,this.isOwner()&&this.renderOwnerView(),this.isManager()&&this.renderManagerView(),!this.isOwner()&&!this.isManager()&&this.renderMemberView())}}]),t}(),r.propTypes=a({},f.default.propTypes,d.default.propTypes,m.default.propTypes,h.default.propTypes,b.default.propTypes),o);t.default=(0,u.connect)(function(e){return a({},e.SETTING,{user:e.APP.user,currentProject:e.APP.currentProject,members:e.PROJECT.common.members})},function(e){return a({},(0,l.bindActionCreators)(v,e))})(g)},3799:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=E(n(0)),s=n(2),c=E(s),u=n(51),l=E(n(261)),p=E(n(1526)),f=E(n(544)),d=E(n(76)),m=E(n(169)),h=n(112),b=E(n(3800)),v=E(n(721)),y=E(n(263)),j=n(1703),g=n(106);function E(e){return e&&e.__esModule?e:{default:e}}var w=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onStartDateChange=function(e){return n.setState({startDate:e._isValid?e.format("YYYY-MM-DD"):""})},n.onEndDateChange=function(e){return n.setState({endDate:e._isValid?e.format("YYYY-MM-DD"):""})},n.renderDeadlineForm=function(){if(!g.IS_ENTERPRISE)return null;var e=n.state,t=e.startDate,r=e.endDate;return[c.default.createElement("div",{style:{marginTop:15},key:"deadline-label"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"project.deadline"})),c.default.createElement("div",{style:{marginTop:10},key:"deadline-picker"},c.default.createElement("div",{className:j.datePickerWrapper},c.default.createElement(v.default,{isDateDisabled:function(e){return e&&e>(0,y.default)(r)},initialSelectedDate:t,onChange:n.onStartDateChange},c.default.createElement(l.default,{placeholder:u.I18n.get("SETTING","project.date.start"),size:"large",value:t,readOnly:!0})))," ~ ",c.default.createElement("div",{className:j.datePickerWrapper},c.default.createElement(v.default,{isDateDisabled:function(e){return e&&e<(0,y.default)(t)},initialSelectedDate:r,onChange:n.onEndDateChange},c.default.createElement(l.default,{placeholder:u.I18n.get("SETTING","project.date.end"),size:"large",value:r,readOnly:!0}))))]},n.state={name:"",description:"",startDate:"",endDate:""},n.onNameChange=n.onNameChange.bind(n),n.onDescriptionChange=n.onDescriptionChange.bind(n),n.onUpdateProjectIcon=n.onUpdateProjectIcon.bind(n),n.onUpdate=n.onUpdate.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"componentDidMount",value:function(){(0,d.default)(this.props.currentProject)||this.generateForm(this.props)}},{key:"componentWillReceiveProps",value:function(e){(0,m.default)(e.currentProject,this.props.currentProject)||this.generateForm(e)}},{key:"generateForm",value:function(e){this.setState({name:e.currentProject.name,description:e.currentProject.description,startDate:e.currentProject.start_date||"",endDate:e.currentProject.end_date||""})}},{key:"onNameChange",value:function(e,t){this.setState({name:t})}},{key:"onDescriptionChange",value:function(e,t){this.setState({description:t})}},{key:"onUpdateProjectIcon",value:function(e){var t=this.props.onUpdateProjectIcon(this.props.currentProject.id,e);return t.then(function(){return(0,h.success)(u.I18n.get("SETTING","update.project.icon.success"))}),t}},{key:"onUpdate",value:function(){var e=this.props.currentProject.id,t=this.state,n=t.name,r=t.description,o=t.startDate,a=t.endDate;this.props.onUpdate(e,n,r,o,a).then(function(){(0,h.success)(u.I18n.get("SETTING","update.success"))})}},{key:"render",value:function(){return c.default.createElement("div",{className:j.container},c.default.createElement("div",{className:j.title},c.default.createElement(u.I18n,{region:"SETTING",i18n:"basic.setting"})),c.default.createElement("div",{className:j.basic},c.default.createElement(b.default,{src:this.props.currentProject.icon,onDrop:this.onUpdateProjectIcon,shape:"square"}),c.default.createElement("div",{className:j.basicForm},c.default.createElement(u.I18n,{region:"SETTING",i18n:"project.name"}),c.default.createElement(l.default,{className:j.nameInput,size:"large",value:this.state.name,onChange:this.onNameChange,block:!0}),c.default.createElement("span",{className:j.nameTip},c.default.createElement(p.default,{className:"mr-5"}),c.default.createElement(u.I18n,{region:"SETTING",i18n:"update.name.tip"})),c.default.createElement(u.I18n,{region:"SETTING",i18n:"project.description"}),c.default.createElement(l.default,{className:"mt-10",block:!0,type:"textarea",autoSize:{minRows:5},value:this.state.description,onChange:this.onDescriptionChange}),this.renderDeadlineForm(),c.default.createElement(f.default,{className:"mt-15",onClick:this.onUpdate,size:"medium"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"update"})))))}}]),t}(),r.propTypes={currentProject:i.default.object,onUpdateProjectIcon:i.default.func,onUpdate:i.default.func},o);t.default=w},3800:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=y(n(0)),s=n(2),c=y(s),u=y(n(262)),l=n(1578),p=y(n(8)),f=y(n(699)),d=y(n(1505)),m=n(51),h=n(112),b=n(3801),v=n(3803);function y(e){return e&&e.__esModule?e:{default:e}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={uploading:!1,file:null},(0,m.injectAsyncI18n)("AVATAR_DROPZONE",n(3804)),r.onDrop=r.onDrop.bind(r),r.onValidate=r.onValidate.bind(r),r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"onDrop",value:function(e){if(!(e.length<=0)){var t=e[0];t.size>=v.MAX_SIZE?(0,h.danger)(m.I18n.get("AVATAR_DROPZONE","exceed.max.size")):-1!==v.TYPE.indexOf(t.type.toLowerCase())?this.setState({file:t}):(0,h.danger)(m.I18n.get("AVATAR_DROPZONE","invalid.image.type"))}}},{key:"onValidate",value:function(e){var t=this,n=e.target;n.width<v.MIN_WIDTH||n.height<v.MIN_HEIGHT?(0,h.danger)(m.I18n.get("AVATAR_DROPZONE","exceed.min.dimension")):n.width>v.MAX_WIDTH||n.height>v.MAX_HEIGHT?(0,h.danger)(m.I18n.get("AVATAR_DROPZONE","exceed.max.dimension")):(this.setState({uploading:!0}),this.props.onDrop(this.state.file).finally(function(){return t.setState({uploading:!1})}))}},{key:"render",value:function(){var e,t=this.state.uploading;return c.default.createElement(l.DropZone,{className:(0,p.default)(b.container,this.props.className),accept:"image/*",multiple:!1,disableClick:t,onDrop:this.onDrop},c.default.createElement("img",{style:{display:"none"},src:this.state.file&&this.state.file.preview||"#",onLoad:this.onValidate}),c.default.createElement("div",{className:(0,p.default)(b.mask,(e={},j(e,b.loading,t),j(e,b.square,"square"===this.props.shape),e))},t?c.default.createElement(f.default,{className:b.icon}):c.default.createElement(d.default,{className:b.icon})),c.default.createElement(u.default,{className:b.avatar,src:this.props.src,shape:this.props.shape,size:this.props.size}))}}]),t}(),r.propTypes={className:i.default.string,src:i.default.string,onDrop:i.default.func,size:i.default.string,shape:i.default.string},r.defaultProps={size:"large",shape:"circle"},o);t.default=g},3801:function(e,t,n){e.exports={container:"container-arX",avatar:"avatar-2ME",mask:"mask-31U",square:"square-1sv",loading:"loading-Iq1",icon:"icon-4lQ"}},3803:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_SIZE=1048576,t.MAX_WIDTH=800,t.MAX_HEIGHT=800,t.MIN_WIDTH=128,t.MIN_HEIGHT=128,t.TYPE=["image/jpg","image/jpeg","image/png","image/bmp"]},3804:function(e,t){e.exports={"zh-CN":{"exceed.max.size":"\u56fe\u7247\u4e0a\u4f20\u6700\u5927\u4e3a 1M","exceed.min.dimension":"\u56fe\u7247\u4e0a\u4f20\u6700\u5c0f\u5c3a\u5bf8\u4e3a 128x128","exceed.max.dimension":"\u56fe\u7247\u4e0a\u4f20\u6700\u5927\u5c3a\u5bf8\u4e3a 800x800","invalid.image.type":"\u56fe\u7247\u683c\u5f0f\u975e\u6cd5\uff0c\u5408\u6cd5\u683c\u5f0f\u4e3a\uff08jpg\u3001jpeg\u3001png\u3001bmp\uff09"},"en-US":{"exceed.max.size":"Exceed the max size of 1m","exceed.min.dimension":"Exceed the minimal dimension of 128x128","exceed.max.dimension":"Exceed the maximal dimension of 800x800","invalid.image.type":"Image type invalid. Valid types are (jpg\u3001jpeg\u3001png\u3001bmp)"}}},3806:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=y(n(0)),s=n(2),c=y(s),u=n(51),l=y(n(704)),p=n(78),f=y(n(544)),d=y(n(169)),m=y(n(1545)),h=y(n(1487)),b=n(112),v=n(1703);function y(e){return e&&e.__esModule?e:{default:e}}var j=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:[],value:"",show:!1},n.onShow=n.onShow.bind(n),n.onHide=n.onHide.bind(n),n.onSelect=n.onSelect.bind(n),n.onTransfer=n.onTransfer.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"componentDidMount",value:function(){this.generateMemberItems(this.props)}},{key:"componentWillReceiveProps",value:function(e){(0,d.default)(e.members,this.props.members)||this.generateMemberItems(e)}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"onHide",value:function(){this.setState({show:!1})}},{key:"generateMemberItems",value:function(e){var t=this.props.user.id;this.setState({items:e.members.filter(function(e){return e.user_id!==t}).map(function(e){return{media:e.user.avatar,text:e.team_alias||e.user.name,value:e.user.global_key}})})}},{key:"onSelect",value:function(e){this.setState({value:e.value})}},{key:"onTransfer",value:function(e){var t=this,n=this.props.currentProject.id,r=this.state.value,o=this.props.onTransfer(n,r,e);return o.then(function(e){(0,b.success)(u.I18n.get("SETTING","transfer.success")),t.props.push(e.data.project_path)}),o}},{key:"render",value:function(){return c.default.createElement("div",{className:v.container},c.default.createElement(h.default,{show:this.state.show,onConfirm:this.onTransfer,onHide:this.onHide}),c.default.createElement("div",{className:v.title},c.default.createElement(u.I18n,{region:"SETTING",i18n:"transfer"})),c.default.createElement(l.default,{type:"warning"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"transfer.tip"})),(0,m.default)(this.state.items)>0&&c.default.createElement("div",{className:v.transferMember},c.default.createElement(u.I18n,{region:"SETTING",i18n:"transfer.to.member"}),c.default.createElement(p.MediaDropdown,{className:v.transferDropdown,items:this.state.items,value:this.state.value,onSelect:this.onSelect,size:"medium"})),(0,m.default)(this.state.items)<=0&&c.default.createElement("div",{style:{marginTop:"20px"}},c.default.createElement(l.default,{type:"info"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"transfer.member.empty"}))),(0,m.default)(this.state.items)>0&&c.default.createElement(f.default,{className:"mt-20",size:"medium",onClick:this.onShow,disabled:!this.state.value},c.default.createElement(u.I18n,{region:"SETTING",i18n:"transfer"})))}}]),t}(),r.propTypes={user:i.default.object,currentProject:i.default.object,members:i.default.array,onTransfer:i.default.func,push:i.default.func},o);t.default=j},3807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(0)),s=n(2),c=h(s),u=n(51),l=h(n(704)),p=h(n(544)),f=h(n(1487)),d=n(112),m=n(1703);function h(e){return e&&e.__esModule?e:{default:e}}var b=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1},n.onShow=n.onShow.bind(n),n.onHide=n.onHide.bind(n),n.onArchive=n.onArchive.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"onShow",value:function(){this.setState({show:!0})}},{key:"onHide",value:function(){this.setState({show:!1})}},{key:"onArchive",value:function(e){var t=this,n=this.props.currentProject.id,r=this.props.onArchive(n,e);return r.then(function(){(0,d.success)(u.I18n.get("SETTING","archive.success")),t.props.push("/user/projects/archive")}),r}},{key:"render",value:function(){return c.default.createElement("div",{className:m.container},c.default.createElement(f.default,{show:this.state.show,onConfirm:this.onArchive,onHide:this.onHide}),c.default.createElement("div",{className:m.title},c.default.createElement(u.I18n,{region:"SETTING",i18n:"archive"})),c.default.createElement(l.default,{type:"warning"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"archive.tip"})),c.default.createElement(p.default,{className:"mt-20",onClick:this.onShow,size:"medium"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"archive"})))}}]),t}(),r.propTypes={currentProject:i.default.object,onArchive:i.default.func,push:i.default.func},o);t.default=b},3808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(0)),s=n(2),c=h(s),u=n(51),l=h(n(704)),p=h(n(544)),f=h(n(1487)),d=n(112),m=n(1703);function h(e){return e&&e.__esModule?e:{default:e}}var b=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:!1},n.onShow=n.onShow.bind(n),n.onHide=n.onHide.bind(n),n.onDismiss=n.onDismiss.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"onShow",value:function(){this.setState({show:!0})}},{key:"onHide",value:function(){this.setState({show:!1})}},{key:"onDismiss",value:function(e){var t=this,n=this.props.currentProject,r=n.id,o=n.name,a=this.props.onDismiss(r,o,e);return a.then(function(){(0,d.success)(u.I18n.get("SETTING","dismiss.success")),t.props.push("/user/projects")}),a}},{key:"render",value:function(){return c.default.createElement("div",{className:m.container},c.default.createElement(f.default,{show:this.state.show,onConfirm:this.onDismiss,onHide:this.onHide}),c.default.createElement("div",{className:m.title},c.default.createElement(u.I18n,{region:"SETTING",i18n:"dismiss"})),c.default.createElement(l.default,{type:"warning"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"dismiss.tip"})),c.default.createElement(p.default,{className:"mt-20",type:"danger",size:"medium",onClick:this.onShow},c.default.createElement(u.I18n,{region:"SETTING",i18n:"dismiss"})))}}]),t}(),r.propTypes={currentProject:i.default.object,onDismiss:i.default.func,push:i.default.func},o);t.default=b},3809:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(0)),s=n(2),c=m(s),u=n(51),l=m(n(704)),p=m(n(544)),f=n(112),d=n(1703);function m(e){return e&&e.__esModule?e:{default:e}}var h=(o=r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onQuit=n.onQuit.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),a(t,[{key:"onQuit",value:function(e){var t=this;if(confirm(u.I18n.get("SETTING","confirm.to.quit"))){var n=this.props.currentProject.id;this.props.onQuit(n,e).then(function(){(0,f.success)(u.I18n.get("SETTING","quit.success")),t.props.push("/user/projects")})}}},{key:"render",value:function(){return c.default.createElement("div",{className:d.container},c.default.createElement("div",{className:d.title},c.default.createElement(u.I18n,{region:"SETTING",i18n:"quit"})),c.default.createElement(l.default,{type:"warning"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"quit.tip"})),c.default.createElement(p.default,{type:"danger",className:"mt-20",onClick:this.onQuit,size:"medium"},c.default.createElement(u.I18n,{region:"SETTING",i18n:"quit"})))}}]),t}(),r.propTypes={currentProject:i.default.object,onQuit:i.default.func,push:i.default.func},o);t.default=h},3810:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onUpdateProjectIcon=function(e,t){return function(n){var o=new FormData;o.append(t.name,t);var i=(0,r.upload)("/api/project/"+e+"/project_icon",o);return i.then(function(e){return n((0,a.updateCurrentProject)(e.data))}),i}},t.onUpdate=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return function(c){var u=(0,r.put)("/api/project",{id:e,name:t,description:n,startDate:i,endDate:s});return u.then(function(e){c((0,a.updateCurrentProject)(e.data)),c((0,o.replace)(e.data.project_path+"/setting"))}),u}},t.onTransfer=function(e,t,n){return function(o){var i=(0,r.put)("/api/project/"+e+"/transfer_to/"+t+"?two_factor_code="+n);return i.then(function(e){o((0,a.updateCurrentProject)(e.data))}),i}},t.onArchive=function(e,t){return function(){return(0,r.post)("/api/project/"+e+"/archive?two_factor_code="+t)}},t.onDismiss=function(e,t,n){return function(){return(0,r.del)("/api/project/"+e+"?name="+t+"&two_factor_code="+n)}},t.onQuit=function(e){return function(){return(0,r.post)("/api/project/"+e+"/quit")}};var r=n(84),o=n(226),a=n(707)}}]);