<!DOCTYPE html>
<html lang="zn-Hans">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1" />
  <meta name="author" content="Collin">
  <meta name="description" content="This is an example">
  
  <meta property="og:title" content="移动端——响应式布局" />
<meta property="og:description" content="This is an example" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://clsss.github.io/blog/blogs/2017-9/m_adapter/" />
<meta property="article:published_time" content="2017-09-25T23:54:11+08:00" />
<meta property="article:modified_time" content="2017-09-25T23:54:11+08:00" />



  <title>
  
       移动端——响应式布局 | Collin&#39;s Blog 
  
  </title>

  <link rel="canonical" href="https://clsss.github.io/blog/blogs/2017-9/m_adapter/">

  
  

  
  <link href="https://clsss.github.io/blog/css/vendors-extensions/fontawesome/all.min.css" rel="stylesheet">

  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:300,400,500,600">
  <link href="https://clsss.github.io/blog/css/font.css" rel="stylesheet"> 
    
  
  <link href="https://clsss.github.io/blog/css/vendors/bootstrap4/bootstrap.min.css" rel="stylesheet">
  <link href="https://clsss.github.io/blog/css/vendors-extensions/mdb/mdb.min.css" rel="stylesheet"> 
  <link href="https://clsss.github.io/blog/css/vendors/mdb/style.min.css" rel="stylesheet"> 
  <link href="https://clsss.github.io/blog/css/main.css" rel="stylesheet">


  
  <link rel="shortcut icon"
  
      href="https://clsss.github.io/blog/images/favicon_cl.ico"
  
  >


  
  

  <style type="text/css">
      @media (min-width: 800px) and (max-width: 850px) {
              .navbar:not(.top-nav-collapse) {
                  background: #1C2331!important;
              }
          }
  </style>


  
    
    <link rel="stylesheet" href="https://clsss.github.io/blog/js/vendors/katex/katex.min.css">
  
  

  
    
    <link rel="stylesheet" href="https://clsss.github.io/blog/css/vendors/highlight/github-gist.css">
  

</head>

  <body class="bg-light" data-spy="scroll" data-target="#page-scrollspy" data-offset="90">
  
    
    

    
      


<nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
    <div class="container">

      
      <a class="navbar-brand" href="https://clsss.github.io/blog/">
          
        <img class="avatar" src="https://clsss.github.io/blog/images/favicon_cl.ico" style="width: 40px!important;height: auto;"  class="d-inline-block align-top" alt="" >
        
        
        
      </a>

      
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      
      <div class="collapse navbar-collapse" id="navbarSupportedContent">

        
        <ul class="navbar-nav mr-auto ">
          <li class="nav-item ">
            <a class="nav-link" href="https://clsss.github.io/blog/">Home</a>
          </li>
             
            <li class="nav-item ">
              <a class="nav-link" href="https://clsss.github.io/blog/blogs/" >Blogs  </a>
            </li>
          
             
            <li class="nav-item ">
              <a class="nav-link" href="https://clsss.github.io/blog/life/" >Life  </a>
            </li>
          
             
            <li class="nav-item ">
              <a class="nav-link" href="https://clsss.github.io/blog/about/" >About  </a>
            </li>
          
          
        </ul>

      </div>

    </div>
  </nav>
  
 
      
 






<div id="site-header" class="carousel slide carousel-fade" data-ride="carousel" style="height: 18rem;" >  

  
  
  

  
  <div class="carousel-inner" role="listbox">
    
      

        
        <div class="carousel-item active">
          <div class="view" style="background-image: url('https://clsss.github.io/blog/img/header-slides/banner1.jpg'); background-repeat: no-repeat; background-size: cover;">

            
            <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

              
              
              

            </div>
            

          </div>
        </div>
        
      
    
      

        
        <div class="carousel-item">
          <div class="view" style="background-image: url('https://clsss.github.io/blog/img/header-slides//banner2.jpg'); background-repeat: no-repeat; background-size: cover;">

            
            <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

            

            </div>
            

          </div>
        </div>
        
      
    
      

        
        <div class="carousel-item">
          <div class="view" style="background-image: url('https://clsss.github.io/blog/img/header-slides//banner3.jpg'); background-repeat: no-repeat; background-size: cover;">

            
            <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

            

            </div>
            

          </div>
        </div>
        
      
    
      

        
        <div class="carousel-item">
          <div class="view" style="background-image: url('https://clsss.github.io/blog/img/header-slides//banner4.jpg'); background-repeat: no-repeat; background-size: cover;">

            
            <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

            

            </div>
            

          </div>
        </div>
        
      
    

  
  </div>
  

  
  <div class="carousel-content text-center white-text wow fadeIn">
    <div class="row mx-0 headfont mt-3 pt-4">
      
      <div class="col-12 col-sm-5 align-middle">
        <a href="https://clsss.github.io/blog/">
          
            <img class="pull-right avatar avatar-md" src="https://clsss.github.io/blog/images/avatar.jpg" alt="" >
          
        </a>
      </div>
      
      <div class="col-12 col-sm-7 text-left pl-2">
        <a href="https://clsss.github.io/blog/">
          <h1 class="mb-2 h1" style="font-weight: 300;" >
            <strong>Collin&#39;s Blog</strong>
          </h1>
        </a>
        

             
        <div class="mt-2" style="font-size: 1rem; color: white;">
            
              <a href="//github.com/clsss" target="_blank" rel="noopener"><i class="fab fa-github pr-1" aria-hidden="true"></i></a>    
            
            
              <a href="//linkedin.com/in/you" target="_blank" rel="noopener"><i class="fab fa-linkedin pr-1" aria-hidden="true"></i></a>
            

            
              <a href="//facebook.com/you" target="_blank" rel="noopener"><i class="fab fa-facebook pr-1" aria-hidden="true"></i></a>
            

            
            <a href="//google.com/you" target="_blank" rel="noopener"><i class="fab fa-google-plus pr-1" aria-hidden="true"></i></a>
            

            
                <a href="//twitter.com/you" target="_blank" rel="noopener"><i class="fab fa-twitter pr-1" aria-hidden="true"></i></a>
            

            
    
            
    
        
            
                <a href="mailto:670199384@qq.com"><i class="far fa-envelope-open pr-1" aria-hidden="true"></i></a>
            
    
            

            
        </div>
      </div>
    </div>
  </div>
  

  
  
  

</div>
  
    

    
  
  <main class="post-main-wrapper">
    
    
    <div class="row">

      

      
      <div class="col-md-10">
      

        
        <div class="z-depth-1  post-wrapper white-bg single-post">

          <div class="post-header text-center" >
  <ul class="post-meta li-x">
    
      
        <li><a href="https://clsss.github.io/blog/categories/web"><i class="fas fa-folder-open pr-1" aria-hidden="true"></i> web </a></li>
      
    
    
      
        <li><a href="https://clsss.github.io/blog/series/mobile"><i class="fas fa-bookmark pr-1" aria-hidden="true"></i>mobile</a></li>
      
    
  </ul>

  <div class="px-4 post-heading">移动端——响应式布局</div>

  <ul class="post-meta li-x mt-1">
    
      <li>Sep 25, 2017</li>
    

    
      <li class="middot"></li>
      <li>6 minutes read</li>
    
  </ul>
  
    <div class="view">
      <img src="https://clsss.github.io/blog/images/blog/img.jpg" />
    </div>
  

</div>


          <div class="post-content markdown">
            <h2 id="一remem-单位">一、rem/em 单位</h2>
<h4 id="rem--font-size-of-root-element">rem ( font size of root element)</h4>
<blockquote>
<p>相对长度单位。相对于根元素(即 html 元素)font-size 计算值的倍数</p>
</blockquote>
<p>栗子：</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&lt;style&gt;
    html<span class="o">{</span>
        font-size: 12px<span class="p">;</span>
    <span class="o">}</span>
    p <span class="o">{</span>
        font-size: 2rem<span class="p">;</span>
    <span class="o">}</span>
&lt;/style&gt;
&lt;body&gt;
    &lt;p&gt;我是html定义的12px的2倍，字体大小为24px&lt;/p&gt;
&lt;/body&gt;
<span class="c1"># 如上如果我们设定html的字体大小为12px，有一段文字设置了font-size：2rem</span>
<span class="c1"># 那么意思就是这段文字的font-siez是根元素的2倍，则12*2 = 24px;</span>

<span class="c1"># 当然一般情况下，是为了计算方便根的字体会被设置为100px</span>
html<span class="o">{</span>font-size:100px<span class="p">;</span><span class="o">}</span>
</code></pre></div><h4 id="em">em</h4>
<blockquote>
<p>相对长度单位。相对于当前对象内文本的字体尺寸。
如当前对行内文本的字体尺寸未被人为设置，则相对于浏览器的默认字体尺寸。</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&lt;style&gt;
    html<span class="o">{</span>
        font-size: 100px<span class="p">;</span>
    <span class="o">}</span>
    .content<span class="o">{</span>
        font-size: 12px<span class="p">;</span>
    <span class="o">}</span>
    .item <span class="o">{</span>
        font-size: 2em<span class="p">;</span>
    <span class="o">}</span>
&lt;/style&gt;
&lt;body&gt;
    &lt;div <span class="nv">class</span><span class="o">=</span><span class="s2">&#34;content&#34;</span>&gt;
        &lt;p <span class="nv">class</span><span class="o">=</span><span class="s2">&#34;item&#34;</span>&gt;我是相对于父容器的12px的2倍，字体大小为24px&lt;/p&gt;
    &lt;/div&gt;
&lt;/body&gt;
<span class="c1"># 因为默认1em=16px， 1px = 1/16 = 0.0625em ; 100px = 6.25em(625%em)</span>
</code></pre></div><h2 id="二viewport">二、viewport</h2>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&lt;meta <span class="nv">name</span><span class="o">=</span><span class="s2">&#34;viewport&#34;</span> <span class="nv">content</span><span class="o">=</span><span class="s2">&#34;width=device-width, initial-scale=1, maximum-scale=1&#34;</span>&gt;
</code></pre></div><blockquote>
<p>在移动开发时我们都会有上面这段代码</p>
</blockquote>
<ul>
<li>viewport :虚拟窗口大小</li>
<li>width: 控制 viewport 大小 可以自己设定值如 320px(很少用) 一般设置为 device-width(设备宽度)</li>
<li>initial-scale 初始缩放比例 即页面初次加载时的缩放比例默认为 1</li>
<li>maximum-scale：用户可缩放到的最大比例</li>
<li>dpr(device pixel ratio)</li>
</ul>
<h4 id="设备的物理像素">设备的物理像素</h4>
<ul>
<li>通俗的讲设备屏幕有多少个可以闪烁的点 是一个具体的概念 比如 iphone6 横向就有 750 个可以改变颜色的点 类 似与电视机 如果家里有 10 年前买的大头电视，你趴在屏幕前仔细看能看到一个个 RGB 的点 这就是设备的物理像素</li>
</ul>
<h4 id="设备独立像素">设备独立像素</h4>
<pre><code>dpr = 设备物理像素/设备独立像素
</code></pre><p>程序中的 1px 占据设备上的几个最小物理点可以这么理解
iphone3G 设备物理像素 320 个点 设备独立像素 320px 那么 dpr 就是 1
iphone6 设备物理像素 750 个点 设备独立像素 375px 那么 dpr 就是 2
也就是我们 css 中写的 1px 其实不等于设备实际上的那 1px 也可能等于设备上的 2px
根据 dpr 我们就可以灵活的在移动端缩放页面比例
可以通过 window.devicePixelRatio 来获取 dpr</p>
<ol start="3">
<li>使用 sass:mixin 方法把 px 转成 rem</li>
</ol>
<pre><code>@function px2rem( $px ){
	@return $px*750/$designWidth/20 + rem; //这句是不是感觉很熟悉 这句其实跟上面的那段js是对应的
}
@import 'px2rem.scss';
如果设计图是750：
$designWidth : 750;
.banner{width:px2rem(300)} //如设计稿上的banner是300px 就免去计算环节
</code></pre><ol start="4">
<li>动态 rem (根据 dpr，计算设置 font-size)</li>
</ol>
<pre><code>(function (doc, win) {
    console.log(&quot;dpr:&quot;+win.devicePixelRatio);
    var docEle = doc.documentElement,
    isIos = navigator.userAgent.match(/iphone|ipod|ipad/gi),
    dpr=Math.min(win.devicePixelRatio, 3);
    scale = 1 / dpr,

    resizeEvent = 'orientationchange' in window ? 'orientationchange' : 'resize';
    docEle.dataset.dpr = dpr;

    var metaEle = doc.createElement('meta');
    metaEle.name = 'viewport';
    metaEle.content = 'initial-scale=' + scale + ',maximum-scale=' + scale;
    docEle.firstElementChild.appendChild(metaEle);

    var recalCulate = function  {
        var width = docEle.clientWidth;
        if (width / dpr &gt; 640) {
            width = 640 * dpr;
        }
        docEle.style.fontSize = 20 * (width / 750) + 'px';
    };

    recalCulate
    if (!doc.addEventListener) return;
    win.addEventListener(resizeEvent, recalCulate, false);
})(document, window);
</code></pre><p>获取设备 dpr
算出缩放比例 scale = 1/dpr
创建 meta 以及属性
将 scale 值赋给 initial-scale，maximum-scale
meta 插入到文档中
创建屏幕大小改变重新计算函数并监听</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>========================== 分割线 ==========================
<!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>以下来自微信公众好前端大全:
主要是总结一下，我在移动端布局用过的方法。
有三种:</p>
<ul>
<li>第一种是响应式布局，利用@meida 判断各个 size；</li>
<li>第二种是 REM；</li>
<li>第三种是设置 viewport 中的 width。</li>
</ul>
<h2 id="一丶-响应式布局">一丶 响应式布局</h2>
<p>这种感觉是最好理解了，利用@media 进行断点，在每个断点中编写 css。
@media (max-width:768px){
//css
}
上面这段代码，在浏览器的宽度低于 768 时有效。同理，如果把 max 换成 min，就会变成高于 768 时有效。可以设置宽度，也可以设置高度，也可以同时设置多个值。
在 MDN,@media 上，发现很多值都可以做判断的。宽，高，宽高比，颜色（这个是指定输出设备每个像素单位的比特值），是否横屏或竖屏，还有很多，可以去 MDN 看看。</p>
<h4 id="1媒体类型">1.媒体类型:</h4>
<ul>
<li>@meida 还可以根据媒体类型进行断点。</li>
<li>all，所有设备</li>
<li>print，打印</li>
<li>screen，彩色的电脑屏幕</li>
<li>speech，不知道什么来的。</li>
</ul>
<h4 id="2关键字">2.关键字</h4>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">@media <span class="o">(</span>max-width:1000px<span class="o">){</span>
    div<span class="o">{</span>background:blue<span class="p">;</span><span class="o">}</span>
<span class="o">}</span>
@media <span class="o">(</span>min-width:1000px<span class="o">)</span> and <span class="o">(</span>max-width:1150px<span class="o">){</span>
    div<span class="o">{</span>background: yellow<span class="p">;</span><span class="o">}</span>
<span class="o">}</span>
@media only screen and <span class="o">(</span>max-width:1150px<span class="o">){</span>
    div<span class="o">{</span>border:solid 1px<span class="p">;</span><span class="o">}</span>
<span class="o">}</span>
@media not print and <span class="o">(</span>max-width:1150px<span class="o">){</span>
    div<span class="o">{</span>border-radius:50%<span class="p">;</span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div><ol>
<li>and，就是‘和’的意思，前后两个条件都达到时</li>
<li>only，唯一</li>
<li>not，除了这个之外 3.按需‘加载’css</li>
<li>@media 还可以用在 link 标签上。</li>
</ol>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&lt;link <span class="nv">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span> <span class="nv">href</span><span class="o">=</span><span class="s2">&#34;css/1.css&#34;</span> <span class="nv">media</span><span class="o">=</span><span class="s2">&#34;(max-width:500px)&#34;</span>/&gt;
</code></pre></div><h2 id="二丶-rem">二丶 REM</h2>
<p>REM 这个单位，会根据 html 的 font-size 大小进行转换。</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">html<span class="o">{</span>font-size:100px<span class="p">;</span><span class="o">}</span>
p<span class="o">{</span>padding-top:.5rem<span class="p">;</span><span class="o">}</span>
</code></pre></div><p>转换后 p 的 padding-top 就是 50px 了。只要我们进行适当的计算，当前屏幕的宽度，html 的 font-size 是多少 px 就 OK 了。
px &lt;==&gt; rem <a href="http://pxtoem.com/">文档</a></p>
<h4 id="1如何计算当前-html-的-font-size-值">1.如何计算当前 html 的 font-size 值</h4>
<blockquote>
<p>当前屏幕宽度 / 750 = 当前屏幕宽度的 font-size / 100</p>
</blockquote>
<p>比如，我们拿到的设计稿是 750px，那就设置成当屏幕宽度是 750 的时候，html 的 font-size 就是 100px（当然这个 100px 你可以随意设置的，我设置成 100px 只是方便我计算），然后就根据当前屏幕的宽度 / 750 * 100，就得到了当前屏幕宽度的 font-size 值。</p>
<p>代码如下</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="o">(</span><span class="k">function</span> <span class="o">(</span>doc, win<span class="o">)</span> <span class="o">{</span>
    var <span class="nv">docEl</span> <span class="o">=</span> doc.documentElement,
    <span class="nv">resizeEvt</span> <span class="o">=</span> <span class="s1">&#39;orientationchange&#39;</span> in window ? <span class="s1">&#39;orientationchange&#39;</span> : <span class="s1">&#39;resize&#39;</span>,（获取浏览器支持的改变方向的函数，如果<span class="s1">&#39;orientationchange&#39;</span>存在，就使用 docEl.style.fontSize 这个改变字体的尺寸）
    <span class="nv">recalc</span> <span class="o">=</span> <span class="k">function</span> <span class="o">()</span> <span class="o">{</span>
    var <span class="nv">clientWidth</span> <span class="o">=</span> docEl.clientWidth<span class="p">;</span>
    <span class="k">if</span> <span class="o">(</span>!clientWidth<span class="o">)</span> <span class="k">return</span><span class="p">;</span>
    docEl.style.fontSize <span class="o">=</span> <span class="m">100</span> * <span class="o">(</span>clientWidth / 750<span class="o">)</span> + <span class="s1">&#39;px&#39;</span><span class="p">;</span>
<span class="o">}</span><span class="p">;</span>
<span class="k">if</span> <span class="o">(</span>!doc.addEventListener<span class="o">)</span> <span class="k">return</span><span class="p">;</span>
win.addEventListener<span class="o">(</span>resizeEvt, recalc, <span class="nb">false</span><span class="o">)</span><span class="p">;</span> // resizeEvt 用于这里监听放向改变
doc.addEventListener<span class="o">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span>, recalc, <span class="nb">false</span><span class="o">)</span><span class="p">;</span> //dom 结构完就开始计算
<span class="o">})(</span>document, window<span class="o">)</span><span class="p">;</span>
</code></pre></div><p>上面这段代码，是直接根据屏幕宽度进行计算 font-size 的。而淘宝移动端 REM 方案，还根据你的 dpr 去计算，而且会进行整体的缩放。淘宝的这种方案，比上面的代码会好很多。淘宝的方案，解决了另一个问题：边框 1px 的问题。</p>
<p>2.淘宝移动端 REM
这个很简单，只需要加载 js 就好了</p>
<pre><code>;
(function(win, lib) {
    var doc = win.document;
    var docEl = doc.documentElement;
    var metaEl = doc.querySelector('meta[name=&quot;viewport&quot;]');
    var flexibleEl = doc.querySelector('meta[name=&quot;flexible&quot;]');
    var dpr = 0;
    var scale = 0;
    var tid;
    var flexible = lib.flexible || (lib.flexible = {});

    if (metaEl) {
        var match = metaEl.getAttribute('content').match(/initial\-scale=([\d\.]+)/);
        if (match) {
            scale = parseFloat(match[1]);
            dpr = parseInt(1 / scale);
        }
    } else if (flexibleEl) {
        var content = flexibleEl.getAttribute('content');
        if (content) {
            var initialDpr = content.match(/initial\-dpr=([\d\.]+)/);
            var maximumDpr = content.match(/maximum\-dpr=([\d\.]+)/);
            if (initialDpr) {
                dpr = parseFloat(initialDpr[1]);
                scale = parseFloat((1 / dpr).toFixed(2));
            }
            if (maximumDpr) {
                dpr = parseFloat(maximumDpr[1]);
                scale = parseFloat((1 / dpr).toFixed(2));
            }
        }
    }

    if (!dpr &amp;&amp; !scale) {
        var isAndroid = win.navigator.appVersion.match(/android/gi);
        var isIPhone = win.navigator.appVersion.match(/iphone/gi);
        var devicePixelRatio = win.devicePixelRatio;
        if (isIPhone) {
            // iOS下，对于2和3的屏，用2倍的方案，其余的用1倍方案
            if (devicePixelRatio &gt;= 3 &amp;&amp; (!dpr || dpr &gt;= 3)) {
                dpr = 3;
            } else if (devicePixelRatio &gt;= 2 &amp;&amp; (!dpr || dpr &gt;= 2)) {
                dpr = 2;
            } else {
                dpr = 1;
            }
        } else {
            // 其他设备下，仍旧使用1倍的方案
            dpr = 1;
        }
        scale = 1 / dpr;
    }

    docEl.setAttribute('data-dpr', dpr);
    if (!metaEl) {
        metaEl = doc.createElement('meta');
        metaEl.setAttribute('name', 'viewport');
        metaEl.setAttribute('content', 'initial-scale=' + scale + ', maximum-scale=' + scale + ', minimum-scale=' + scale + ', user-scalable=no');
        if (docEl.firstElementChild) {
            docEl.firstElementChild.appendChild(metaEl);
        } else {
            var wrap = doc.createElement('div');
            wrap.appendChild(metaEl);
            doc.write(wrap.innerHTML);
        }
    }

    function refreshRem() {
        var width = docEl.getBoundingClientRect().width;
        // 适配平板
        if (width / dpr &gt; 540) {
            width = 540 * dpr;
        }
        var rem = width / 10;
        docEl.style.fontSize = rem + 'px';
        flexible.rem = win.rem = rem;
    }

    win.addEventListener('resize', function() {
        clearTimeout(tid);
        tid = setTimeout(refreshRem, 300);
    }, false);
    win.addEventListener('pageshow', function(e) {
        if (e.persisted) {
            clearTimeout(tid);
            tid = setTimeout(refreshRem, 300);
        }
    }, false);

    if (doc.readyState === 'complete') {
        doc.body.style.fontSize = 12 * dpr + 'px';
    } else {
        doc.addEventListener('DOMContentLoaded', function(e) {
            doc.body.style.fontSize = 12 * dpr + 'px';
        }, false);
    }


    refreshRem();

    flexible.dpr = win.dpr = dpr;
    flexible.refreshRem = refreshRem;
    flexible.rem2px = function(d) {
        var val = parseFloat(d) * this.rem;
        if (typeof d === 'string' &amp;&amp; d.match(/rem$/)) {
            val += 'px';
        }
        return val;
    }
    flexible.px2rem = function(d) {
        var val = parseFloat(d) / this.rem;
        if (typeof d === 'string' &amp;&amp; d.match(/px$/)) {
            val += 'rem';
        }
        return val;
    }

})(window, window['lib'] || (window['lib'] = {}));
</code></pre><p>然后在 css 中，将 px 转为 rem 就好了。我是用 scss 的，所以写个函数就好了。</p>
<pre><code>@function s($px) {
    &lt;a href=&quot;http://www.jobbole.com/members/wx1409399284&quot;&gt;@return&lt;/a&gt; ($px / 75) * 1rem;
}

p{
    font-size:s(40);padding-left: s(52);
}
</code></pre><p>比如 p 的 font-size 在 750 的设计稿是 40px，然后 s(40)就 OK 了。</p>
<ol>
<li>一些移动端设备的 font-size
html{font-size:625%}
@media screen and (min-width:360px) and (max-width:374px) and (orientation:portrait) {
html { font-size: 703%; }
}
@media screen and (min-width:375px) and (max-width:383px) and (orientation:portrait) {
html { font-size: 732.4%; }
}
@media screen and (min-width:384px) and (max-width:399px) and (orientation:portrait) {
html { font-size: 750%; }
}
@media screen and (min-width:400px) and (max-width:413px) and (orientation:portrait) {
html { font-size: 781.25%; }
}
@media screen and (min-width:414px) and (max-width:431px) and (orientation:portrait){
html { font-size: 808.6%; }
}
@media screen and (min-width:432px) and (max-width:479px) and (orientation:portrait){
html { font-size: 843.75%; }
}</li>
</ol>
<h2 id="三丶-设置-viewport-中的-width">三丶 设置 viewport 中的 width</h2>
<p>这种方案，就是定死 viewport 中的 width 大小。
比如设计稿是 750 的，然后就在代码上写：</p>
<!-- raw HTML omitted -->
<h2 id="四丶-对比三种方式">四丶 对比三种方式</h2>
<p>响应式的优缺点
优点：兼容性好，@media 在 ie9 以上是支持的，PC 和 MOBILE 是同一套代码的，不用分开。
缺点：要写得 css 相对另外两个多很多，而且各个断点都要做好。css 样式会稍微大点，更麻烦。</p>
<p>REM 优缺点
优点：能维持能整体的布局效果，移动端兼容性好，不用写多个 css 代码，而且还可以利用@media 进行优化。
缺点：开头要引入一段 js 代码，单位都要改成 rem(font-size 可以用 px)，计算 rem 比较麻烦(可以引用预处理器，但是增加了编译过程，相对麻烦了点)。pc 和 mobile 要分开。</p>
<p>设置 viewport 中的 width
优点：和 REM 相同，而且不用写 rem，直接使用 px，更加快捷。
缺点：效果可能没 rem 的好，图片可能会相对模糊，而且无法使用@media 进行断点，不同 size 的手机上显示，高度间距可能会相差很大。</p>
<p>还是看项目需求，再决定使用哪种方案，如果就手机站的话，我使用 REM 比较多。如果对距离比较精确的话，大量 css3 动画的，就使用第三种。</p>
<p>参考：
<a href="http://www.cnblogs.com/lyzg/p/4877277.html">http://www.cnblogs.com/lyzg/p/4877277.html</a></p>

          </div>

          
          <div class="row">
            <div class="col-md-8">
            
              <div class="mb-5">
                
<div class="li-x div-x post-meta">
  <li class="pr-0"><a href="https://clsss.github.io/blog/tags/"><i class="fas fa-tags"></i></a></li>
  <div class="tags-sm">
    
      <li><a href="https://clsss.github.io/blog/tags/mobile" role="button">mobile </a></li>
      
    
      <li><a href="https://clsss.github.io/blog/tags/web" role="button">web </a></li>
      
    
      <li><a href="https://clsss.github.io/blog/tags/css" role="button">css </a></li>
      
    
  </div>
</div>
              </div>
            
            </div>
            
          </div>
          

          
          <div class="row pt-3">
            <div class="col-md-6">
              
                <a href=https://clsss.github.io/blog/blogs/2017-8/wx/ class="post-meta">Previous
                  <div class="pt-2 pb-5 d-flex">
                    <i class="fas fa-angle-left text-grey font-weight-bold mr-2 active-color"></i>
                    <span>第三方登录——微信登录</span>
                  </div>
                </a>
              
            </div>
            
            <div class="col-md-6 text-right" >
              
                <a href=https://clsss.github.io/blog/blogs/2017-9/m_no_portrait/ class="post-meta">Next
                  <div class="pt-2 pb-5 flex-reverse">
                    <i class="fas fa-angle-right text-grey font-weight-bold ml-2 active-color"></i>
                    <span>移动端_禁止竖屏</span>
                  </div>
                </a>
              
            </div>
          </div>

          

        </div>
        

      </div>
      

      
	
	
	
	
		
		
		
	

		
		<div class="col-md-2 pl-0">

			
			<div id="page-scrollspy" class="toc-nav">
				
				<ul class="nav nav-pills ml-0">
					
					<li class="nav-item pb-3 text-center">
						<span class="font-weight-bold mb-2">- CATALOG - </span>
					</li>

					
						
						
							
								
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#%e4%b8%80remem-%e5%8d%95%e4%bd%8d">
												 一、rem/em 单位
											</a>
										</li>
						 
								
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#rem--font-size-of-root-element">
												 rem ( font size of root element)
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#em">
												 em
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#%e4%ba%8cviewport">
												 二、viewport
											</a>
										</li>
						 
								
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#%e8%ae%be%e5%a4%87%e7%9a%84%e7%89%a9%e7%90%86%e5%83%8f%e7%b4%a0">
												 设备的物理像素
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#%e8%ae%be%e5%a4%87%e7%8b%ac%e7%ab%8b%e5%83%8f%e7%b4%a0">
												 设备独立像素
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#%e4%b8%80%e4%b8%b6-%e5%93%8d%e5%ba%94%e5%bc%8f%e5%b8%83%e5%b1%80">
												 一丶 响应式布局
											</a>
										</li>
						 
								
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#1%e5%aa%92%e4%bd%93%e7%b1%bb%e5%9e%8b">
												 1.媒体类型:
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#2%e5%85%b3%e9%94%ae%e5%ad%97">
												 2.关键字
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#%e4%ba%8c%e4%b8%b6-rem">
												 二丶 REM
											</a>
										</li>
						 
								
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
									<ul class="nav">
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#1%e5%a6%82%e4%bd%95%e8%ae%a1%e7%ae%97%e5%bd%93%e5%89%8d-html-%e7%9a%84-font-size-%e5%80%bc">
												 1.如何计算当前 html 的 font-size 值
											</a>
										</li>
						 
								
								
									</ul>
								
									</ul>
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#%e4%b8%89%e4%b8%b6-%e8%ae%be%e7%bd%ae-viewport-%e4%b8%ad%e7%9a%84-width">
												 三丶 设置 viewport 中的 width
											</a>
										</li>
						 
								
								
									</ul>
								
							
						
				 
						
						
							
								
								
									<ul class="nav">
								
								

										<li class="nav-item">
						 					<a class="nav-link" href="#%e5%9b%9b%e4%b8%b6-%e5%af%b9%e6%af%94%e4%b8%89%e7%a7%8d%e6%96%b9%e5%bc%8f">
												 四丶 对比三种方式
											</a>
										</li>
						 
								
								
									</ul>
								
							
						
				 

				</ul>
			</div>
			

		</div>
		
	

    </div>
    


  </main>
  


    
    

<footer class="page-footer text-center font-small mt-4 wow fadeIn">


  
  <div class="pb-2 mt-5 pt-5">
    
      <a href="//github.com/clsss " target="_blank" rel="noopener"><i class="fab fa-github mr-3" aria-hidden="true"></i></a>    
    
    
      <a href="//linkedin.com/in/you" target="_blank" rel="noopener"><i class="fab fa-linkedin-in mr-3" aria-hidden="true"></i></a>
    

    
      <a href="//facebook.com/you" target="_blank" rel="noopener"><i class="fab fa-facebook-f mr-3" aria-hidden="true"></i></a>
    

    
    <a href="//google.com/you" target="_blank" rel="noopener"><i class="fab fa-google-plus-g mr-3" aria-hidden="true"></i></a>
    

    
        <a href="//twitter.com/you" target="_blank" rel="noopener"><i class="fab fa-twitter mr-3" aria-hidden="true"></i></a>
    

    

    


    
        <a href="mailto:670199384@qq.com"><i class="far fa-envelope-open mr-3" aria-hidden="true"></i></a>
    

    

    

  </div>
  

  
  <div class="copyright py-4">
    
    <span>  2016 - 2020 &copy; | Theme <a href='https://github.com/orianna-zzo/AllinOne' target="_blank">AllinOne</a> by <a href='https://github.com/orianna-zzo' target="_blank">Orianna</a>  </span>
  </div>
  

</footer>


    






<script type="text/javascript" src="https://clsss.github.io/blog/js/vendors/jquery/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="https://clsss.github.io/blog/js/vendors/jquery/jquery.smooth-scroll.min.js"></script>



<script type="text/javascript" src="https://clsss.github.io/blog/js/vendors/popper.min.js"></script>
<script type="text/javascript" src="https://clsss.github.io/blog/js/vendors/holder.min.js"></script>
<script type="text/javascript" src="https://clsss.github.io/blog/js/vendors-extensions/bootstrap4/bootstrap.js" ></script>

<script type="text/javascript" src="https://clsss.github.io/blog/js/vendors/mdb/mdb.min.js"></script>

<script type="text/javascript" src="https://clsss.github.io/blog/js/main.js"></script>



  
  <script src="https://clsss.github.io/blog/js/vendors/highlight.pack.js"> </script>
  <script>hljs.initHighlightingOnLoad();</script>




 
  <script src="https://clsss.github.io/blog/js/vendors/katex/katex.min.js"> </script>
  <script src="https://clsss.github.io/blog/js/vendors/katex/contrib/auto-render.min.js"></script>

  <script>
      document.addEventListener("DOMContentLoaded", function () {
          renderMathInElement(document.body);
      });
  </script>








<script type="text/javascript">
  
  new WOW().init();
</script>




  </body>
</html>