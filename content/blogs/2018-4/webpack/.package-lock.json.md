---
title: '.package-lock.json'
date: '2017-10-25T20:54:11+08:00'
publishdate: '2017-10-25T20:54:11+08:00'
lastmod: '2017-10-25T20:54:11+08:00'
draft: false
tags: ['webpack', 'web']
series: ['webpack']
categories: ['editorconfig']
# img: "images/banner/test1.jpg"
toc: true
summary: 'This is an example'
---

## package-lock.json

> 根据官方文档，这个 package-lock.json 是在 `npm install`时候生成一份文件，用以记录当前状态下实际安装的各个 npm package 的具体来源和版本号。

#### 它有什么用呢？

> 因为 npm 是一个用于管理 package 之间依赖关系的管理器，它允许开发者在 pacakge.json 中间标出自己项目对 npm 各库包的依赖。你可以选择以如下方式来标明自己所需要库包的版本.
> 这里举个例子：

```bash
"dependencies": {
 "@types/node": "^8.0.33",
},
```

> 这里面的 向上标号^是定义了向后（新）兼容依赖，指如果 types/node 的版本是超过 8.0.33，并在大版本号（8）上相同，就允许下载最新版本的 types/node 库包，例如实际上可能运行 npm install 时候下载的具体版本是 8.0.35。
> 大多数情况这种向新兼容依赖下载最新库包的时候都没有问题，可是因为 npm 是开源世界，各库包的版本语义可能并不相同，有的库包开发者并不遵守严格这一原则：相同大版本号的同一个库包，其接口符合兼容要求。这时候用户就很头疼了：在完全相同的一个 nodejs 的代码库，在不同时间或者不同 npm 下载源之下，下到的各依赖库包版本可能有所不同，因此其依赖库包行为特征也不同有时候甚至完全不兼容。
> 因此 npm 最新的版本就开始提供自动生成 package-lock.json 功能，为的是让开发者知道只要你保存了源文件，到一个新的机器上、或者新的下载源，只要按照这个 package-lock.json 所标示的具体版本下载依赖库包，就能确保所有库包与你上次安装的完全一样。
